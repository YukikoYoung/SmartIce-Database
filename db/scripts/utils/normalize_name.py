#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
野百灵餐饮集团 - 产品名称规范化工具
功能：繁体转简体 + 全角括号转半角 + 去首尾空格
"""

# 繁简转换映射表（餐饮行业常用汉字）
TRAD_TO_SIMP = str.maketrans({
    # 食材类
    '紙': '纸', '麵': '面', '雞': '鸡', '魚': '鱼', '蝦': '虾', '豬': '猪',
    '鴨': '鸭', '鵝': '鹅', '飯': '饭', '湯': '汤', '醬': '酱', '鹽': '盐',
    '薑': '姜', '蔥': '葱', '餅': '饼', '糕': '糕', '點': '点', '飲': '饮',
    '鮮': '鲜', '凍': '冻', '熱': '热', '鹹': '咸', '濃': '浓', '淡': '淡',
    '軟': '软', '燙': '烫', '涼': '凉', '線': '线', '絲': '丝',

    # 烹饪方式
    '燒': '烧', '煎': '煎', '炸': '炸', '蒸': '蒸', '煮': '煮',
    '燉': '炖', '滷': '卤', '醃': '腌', '燜': '焖', '燴': '烩',

    # 身体部位（食材）
    '腳': '脚', '頭': '头', '臉': '脸', '體': '体',

    # 量词/容器
    '個': '个', '隻': '只', '條': '条', '塊': '块', '盤': '盘',
    '瓶': '瓶', '罐': '罐', '張': '张', '雙': '双', '對': '对', '組': '组',

    # 常用字
    '紅': '红', '綠': '绿', '黃': '黄', '藍': '蓝', '這': '这', '們': '们',
    '時': '时', '間': '间', '會': '会', '機': '机', '電': '电', '話': '话',
    '號': '号', '樓': '楼', '層': '层', '廳': '厅', '區': '区', '場': '场',
    '園': '园', '館': '馆', '營': '营', '業': '业', '開': '开', '關': '关',
    '進': '进', '門': '门', '與': '与', '為': '为', '從': '从', '無': '无',
    '過': '过', '還': '还', '發': '发', '長': '长', '國': '国', '書': '书',
    '學': '学', '見': '见', '說': '说', '語': '语', '東': '东', '車': '车',
    '馬': '马', '鳥': '鸟', '龍': '龙', '風': '风', '雲': '云', '氣': '气',
    '遺': '遗', '傳': '传', '統': '统', '凱': '凯', '裡': '里', '裏': '里',

    # 海鲜类
    '鱸': '鲈', '鯉': '鲤', '鯽': '鲫', '鰻': '鳗', '鱔': '鳝',
    '貝': '贝', '蠔': '蚝', '鮑': '鲍', '參': '参',

    # 补充
    '萬': '万', '億': '亿', '歲': '岁', '歡': '欢', '樂': '乐',
    '産': '产', '廠': '厂', '廣': '广', '應': '应', '義': '义',
    '藝': '艺', '節': '节', '約': '约', '紀': '纪', '純': '纯',
    '納': '纳', '級': '级', '紹': '绍', '經': '经', '織': '织',
})


def normalize_product_name(name):
    """
    规范化产品名称

    处理内容：
    1. 繁体字转简体字
    2. 全角括号转半角括号
    3. 去除首尾空格

    Args:
        name: 原始产品名称

    Returns:
        规范化后的产品名称
    """
    if not name:
        return ""
    name = str(name).translate(TRAD_TO_SIMP)
    name = name.replace('（', '(').replace('）', ')')
    return name.strip()


def add_traditional_mapping(trad_char, simp_char):
    """
    动态添加繁简映射

    Args:
        trad_char: 繁体字符
        simp_char: 对应的简体字符
    """
    global TRAD_TO_SIMP
    # 需要重新创建 maketrans
    mapping = dict(zip(TRAD_TO_SIMP.keys(), TRAD_TO_SIMP.values()))
    mapping[ord(trad_char)] = simp_char
    TRAD_TO_SIMP = mapping


if __name__ == '__main__':
    # 测试
    test_cases = [
        "无粉紙巾",
        "糟辣椒蛋炒飯",
        "紅燒魚",
        "老凱里非遺酸湯",
        "純生啤酒",
        "黑松露和牛開口笑（大份）",
    ]

    print("产品名称规范化测试:")
    print("-" * 60)
    for name in test_cases:
        normalized = normalize_product_name(name)
        print(f"{name:<25} → {normalized}")
